<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery+CSS3时间轴加载动画特效</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		li {
			list-style: none;
		}
		img {
			display: block;
		}
		body {
			background: url(img/bg.jpg) no-repeat center top/cover fixed;
			font-family: "microsoft yahei";
		}
		#box {
			position: relative;
			width: 600px;
			height: 5540px;
			margin: auto;
			margin-bottom: 50px;
		}
		#box .top {
			position: absolute;
			top: 0;
			left: -60px;
			width: 120px;
			height: 150px;
			background: #fff;
			color: #555;
			text-align: center;
			font-size: 13px;
			line-height: 30px;
			z-index: 2;
		}
		#box .top p {
			width: 100px;
			height: 100px;
			margin-top: 10px;
			margin-left: 10px;
		}
		#box .line {
			position: absolute;
			top: 0;
			left: 0;
			width: 3px;
			height: 5540px;
			background: #3d993d;
			z-index: 1;
		}
		#box ul {
			position: absolute;
			top: 150px;
			left: 0;
			width: 100%;
			z-index: 3;
		}
		#box ul li {
			position: relative;
			width: 600px;
			height: 440px;
			margin-top: 50px;
			transform: scale(0);
		}
		#box ul li.on {
			animation: move 1s ease-in-out forwards;
		}
		#box ul li .left {
			position: absolute;
			top: 90px;
			left: -120px;
			width: 90px;
			height: 30px;
			background: #222;
			color: #fff;
			text-align: center;
			font-size: 13px;
			line-height: 30px;
			letter-spacing: 1px;
		}
		#box ul li .left i {
			position: absolute;
			top: 8px;
			right: -16px;
			width: 0;
			height: 0;
			border-width: 7px 8px;
			border-color: transparent;
			border-style: solid;
			border-left-color: #222;
		}
		#box ul li .center {
			position: absolute;
			top: 100px;
			left: -5px;
			width: 7px;
			height: 7px;
			background: #9f3;
			border: 3px solid #fff;
			border-radius: 50%;
		}
		#box ul li .right {
			position: absolute;
			left: 20px;
			padding: 10px;
			background: rgba(255,255,255,.2);
			border-radius: 10px;
			box-shadow: 0 0 6px #666;
			box-sizing: border-box;
		}
		#box ul li .right img {
			width: 560px;
			height: 420px;
		}
		@keyframes move {
			0% {
				transform: rotate(180deg) scale(0.2);
			}
			100% {
				transform: rotate(0deg) scale(1);
			}
		}
	</style>
</head>
<body>
	<div id="box">
		<div class="top">
			<p style="background: url(img/icon.jpg) no-repeat center top/cover;"></p>名牌香水
		</div>
		<div class="line"></div>
		<ul>
			<li class="on">
				<div class="left">7月1号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/1.jpg"></div>
			</li>
			<li class="on">
				<div class="left">7月2号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/2.jpg"></div>
			</li>
			<li>
				<div class="left">7月3号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/3.jpg"></div>
			</li>
			<li>
				<div class="left">7月4号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/4.jpg"></div>
			</li>
			<li>
				<div class="left">7月5号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/5.jpg"></div>
			</li>
			<li>
				<div class="left">7月6号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/6.jpg"></div>
			</li>
			<li>
				<div class="left">7月7号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/7.jpg"></div>
			</li>
			<li>
				<div class="left">7月8号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/8.jpg"></div>
			</li>	
			<li>
				<div class="left">7月9号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/9.jpg"></div>
			</li>
			<li>
				<div class="left">7月10号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/10.jpg"></div>
			</li>
			<li>
				<div class="left">7月11号<i></i></div>
				<div class="center"></div>
				<div class="right"><img src="img/11.jpg"></div>
			</li>															
		</ul>
	</div>

	<script type="text/javascript" src="../../js/jquery-3.1.1.min.js"></script>
	<script type="text/javascript">
		$(function(){
			var $li = $("#box").find("ul li"),
				arr = [];

			$li.each(function(){
				arr.push($(this).offset().top);
			});console.log(arr);

			$(window).scroll(function(){
				for(var i=0,length=arr.length; i<length; i++){
					if($(this).scrollTop() >= arr[i]-900) {
						$li.eq(i).addClass("on");
					}					
				}
			});			
		});
	</script>
</body>
</html>