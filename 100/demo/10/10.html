<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>HTML5图片上传放大镜特效</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		body {
			background: #3c8fc1;
		}
		#box {
			position: relative;
			width: 900px;
			height: 350px;
			margin: 100px auto;
			background: url("img/bg.jpg");
		}
		#box .left {
			position: absolute;
			left: 50px;
			bottom: 20px;
			width: 420px;
			height: 100px;
			padding: 10px;
			background: #e5e5e5;
			border-radius: 8px;
		}
		#box .left .upload {
			float: left;
			width: 100px;
			height: 100px;
			border: 1px solid #c5c5c5;
			background: #fff url(img/img.png) no-repeat center;
		}
		#box .left .upload input {
			opacity: 0;
			width: 100%;
			height: 100%;
		}
		#box .left .name {
			float: left;
			width: 275px;
			height: 100px;
			border: 1px solid #c5c5c5;
			border-left: none;
			outline: none;
			text-align: center;
		}
		#box .right {
			overflow: hidden;
			position: absolute;
			top: 30px;
			right: 56px;
			width: 286px;
			height: 286px;
			border-radius: 10px;
		}
		#box .right img {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			margin: auto;
		}
	</style>
</head>
<body>
	<div id="box">
		<div class="left">
			<div class="upload">
				<input type="file" class="file">
			</div>
			<input type="" name="" readonly="true" class="name">
		</div>
		<div class="right">
			<img src="" width="286px" class="preview">
		</div>
	</div>

	<script type="text/javascript" src="js/magnifier.js"></script>
	<script type="text/javascript">
		window.onload = function(){
			var file = document.querySelector(".file"),
				name = document.querySelector(".name"),
				preview = document.querySelector(".preview");

			file.onchange = function(){
				if(!this.value.match(/.jpg|.gif|.png|.bmp/i)){
					alert("请选择图片文件");
				}else{
					name.value = this.files[0].name;
					preview.src = window.URL.createObjectURL(this.files[0]);
					preview.setAttribute('bigsrc',preview.src);
					preview.value = "";
				}
			};
		};
	</script>
</body>
</html>